<mat-card id="locking.table" class="standard-container">
	<div>
		<div fxFlex fxLayout="row">
			<app-breadcrumb class="align-paginator" fxFlex="grow"></app-breadcrumb>
			<mat-paginator #top_paginator fxFlex="40"
							id="locking.header.paginator"
							(page)="pagingEvent( $event, 'top' )"
							[length]="resultsLength"
							[pageIndex]="pageIndex"
							[pageSize]="pageSize"
							[pageSizeOptions]="pageSizeOptions">
			</mat-paginator>
			<div class="align-paginator" fxFlex="none" fxLayoutAlign="end">
				<app-help helpitem="tracking" fallback="table-overview" color="primary"></app-help>
				<button mat-icon-button color="primary"
							(click)="refresh()" id="locking.header.refresh">
					<mat-icon aria-label="Refresh the view">refresh</mat-icon>
				</button>
			</div>
		</div>
	</div>
	<mat-card-content class="card-content">
		<mat-table [dataSource]="records" #tableLocking
					class="mat-cell" 
					matSort matSortActive="L_USER" matSortDirection="desc" 
					matSortDisableClear>
			<!-- L_USER Column -->
			<ng-container matColumnDef="L_USER">
				<mat-header-cell *matHeaderCellDef mat-sort-header>
					<filter-header title="User" field="L_USER" [filterRecord]="filterRecord">
					</filter-header>
				</mat-header-cell>
				<mat-cell *matCellDef="let row; let i=index;" id="Locking.L_USER" 
							matTooltip="ID: {{ row.L_USER }}"
                          (dblclick)="router.navigate( ['/demo/edit'], { queryParams: { id: 'L_ID', mode: 'edit', value: row.L_ID } } )">
					{{ row.L_USER }}
				</mat-cell>
			</ng-container>
			<!-- L_START_DATE Column -->
			<ng-container matColumnDef="L_START_DATE" >
				<mat-header-cell *matHeaderCellDef mat-sort-header>
					<filter-header title="Start date" field="L_START_DATE" [filterRecord]="filterRecord">
					</filter-header>	
				</mat-header-cell>
				<mat-cell *matCellDef="let row; let i=index;" id="Locking.L_START_DATE" 
							matTooltip="ID: {{ row.L_START_DATE }}"
                          (dblclick)="router.navigate( ['/demo/edit'], { queryParams: { id: 'L_ID', mode: 'edit', value: row.L_ID } } )">
					{{ row.L_START_DATE | date: 'yyyy-MM-dd HH:mm:ss ZZZZZ' }}
				</mat-cell>
			</ng-container>
			<!-- L_TABLE Column -->
			<ng-container matColumnDef="L_TABLE">
				<mat-header-cell *matHeaderCellDef mat-sort-header>
					<filter-header title="Table" field="L_TABLE" [filterRecord]="filterRecord">
					</filter-header>						
				</mat-header-cell>
				<mat-cell *matCellDef="let row; let i=index;" id="Locking.L_TABLE" 
							matTooltip="ID: {{ row.L_TABLE }}"
                          (dblclick)="router.navigate( ['/demo/edit'], { queryParams: { id: 'L_ID', mode: 'edit', value: row.L_ID } } )">
					{{ row.L_TABLE }}
				</mat-cell>
			</ng-container>
			<!-- L_RECORD_ID Column -->
			<ng-container matColumnDef="L_RECORD_ID" >
				<mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
					<filter-header title="Record Id." field="L_RECORD_ID" [filterRecord]="filterRecord">
					</filter-header>
				</mat-header-cell>
				<mat-cell *matCellDef="let row; let i=index;" id="Locking.L_RECORD_ID" 
							matTooltip="ID: {{ row.L_RECORD_ID }}"
                          (dblclick)="router.navigate( ['/demo/edit'], { queryParams: { id: 'L_ID', mode: 'edit', value: row.L_ID } } )">
					{{ row.L_RECORD_ID }}
				</mat-cell>
			</ng-container>
			<mat-header-row *matHeaderRowDef="displayedColumns">
			</mat-header-row>
			<mat-row *matRowDef="let row; columns: displayedColumns;">
			</mat-row>
		</mat-table>
	</mat-card-content>
	<mat-card-footer style="margin-left: 5px; width: 100%;" >
		<div fxFlex fxLayout="row">
			<div fxFlex="grow">
				<div id="locking.spinner" *ngIf="isLoadingResults; else loading_done" class="loading-progress">
					<mat-progress-bar mode="indeterminate"></mat-progress-bar>
				</div>
				<ng-template #loading_done>
					<div class="no-results" id="locking.no-results"
							[style.display]="resultsLength == 0 ? '' : 'none'">
						No results
					</div>
				</ng-template>
			</div>
			<mat-paginator #bot_paginator fxFlex="40"
							id="locking.botton.paginator"
							[length]="resultsLength"
							(page)="pagingEvent( $event, 'bottom' )"
							[pageIndex]="pageIndex"
							[pageSize]="pageSize"
							[pageSizeOptions]="pageSizeOptions">
			</mat-paginator>
			<div class="align-paginator" fxFlex fxLayoutAlign="end">
				<button mat-icon-button color="primary"
						id="locking.botton.refresh"
						(click)="refresh()">
					<mat-icon aria-label="Refresh the view">refresh</mat-icon>
				</button>
			</div>
		</div>
	</mat-card-footer>
</mat-card>
